apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboard-k8s-cluster-monitoring
  namespace: monitoring
  labels:
    grafana_dashboard: '1'
data:
  k8s-cluster-monitoring.json: "{\n  \"__inputs\": [\n    {\n      \"name\": \"DS_PROMETHEUS\"\
    ,\n      \"label\": \"prometheus\",\n      \"description\": \"\",\n      \"type\"\
    : \"datasource\",\n      \"pluginId\": \"prometheus\",\n      \"pluginName\":\
    \ \"Prometheus\"\n    }\n  ],\n  \"__requires\": [\n    {\n      \"type\": \"\
    grafana\",\n      \"id\": \"grafana\",\n      \"name\": \"Grafana\",\n      \"\
    version\": \"5.2.0\"\n    },\n    {\n      \"type\": \"panel\",\n      \"id\"\
    : \"graph\",\n      \"name\": \"Graph\",\n      \"version\": \"5.0.0\"\n    },\n\
    \    {\n      \"type\": \"datasource\",\n      \"id\": \"prometheus\",\n     \
    \ \"name\": \"Prometheus\",\n      \"version\": \"5.0.0\"\n    },\n    {\n   \
    \   \"type\": \"panel\",\n      \"id\": \"singlestat\",\n      \"name\": \"Singlestat\"\
    ,\n      \"version\": \"5.0.0\"\n    }\n  ],\n  \"annotations\": {\n    \"list\"\
    : [\n      {\n        \"builtIn\": 1,\n        \"datasource\": \"-- Grafana --\"\
    ,\n        \"enable\": true,\n        \"hide\": true,\n        \"iconColor\":\
    \ \"rgba(0, 211, 255, 1)\",\n        \"name\": \"Annotations & Alerts\",\n   \
    \     \"type\": \"dashboard\"\n      }\n    ]\n  },\n  \"editable\": true,\n \
    \ \"graphTooltip\": 0,\n  \"id\": null,\n  \"links\": [],\n  \"panels\": [\n \
    \   {\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n    \
    \  \"colorValue\": true,\n      \"colors\": [\n        \"rgba(50, 172, 45, 0.97)\"\
    ,\n        \"rgba(248, 112, 0, 0.89)\",\n        \"rgba(245, 54, 54, 0.9)\"\n\
    \      ],\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"format\": \"none\"\
    ,\n      \"gauge\": {\n        \"maxValue\": 3000,\n        \"minValue\": 0,\n\
    \        \"show\": true,\n        \"thresholdLabels\": false,\n        \"thresholdMarkers\"\
    : true\n      },\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 4,\n\
    \        \"x\": 0,\n        \"y\": 0\n      },\n      \"id\": 13,\n      \"interval\"\
    : null,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\"\
    : [\n        {\n          \"name\": \"value to text\",\n          \"value\": 1\n\
    \        },\n        {\n          \"name\": \"range to text\",\n          \"value\"\
    : 2\n        }\n      ],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\"\
    : \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"\
    postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\"\
    : \"50%\",\n      \"rangeMaps\": [\n        {\n          \"from\": \"null\",\n\
    \          \"text\": \"N/A\",\n          \"to\": \"null\"\n        }\n      ],\n\
    \      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n\
    \        \"full\": false,\n        \"lineColor\": \"rgb(0, 192, 255)\",\n    \
    \    \"show\": true\n      },\n      \"tableColumn\": \"\",\n      \"targets\"\
    : [\n        {\n          \"expr\": \"sum(nginx_connections_total{type=\\\"active\\\
    \"})\",\n          \"format\": \"time_series\",\n          \"intervalFactor\"\
    : 2,\n          \"legendFormat\": \"\",\n          \"metric\": \"node_memory_MemTotal\"\
    ,\n          \"refId\": \"A\",\n          \"step\": 40\n        }\n      ],\n\
    \      \"thresholds\": \"2000,2500\",\n      \"title\": \"Current Connections\"\
    ,\n      \"type\": \"singlestat\",\n      \"valueFontSize\": \"120%\",\n     \
    \ \"valueMaps\": [\n        {\n          \"op\": \"=\",\n          \"text\": \"\
    N/A\",\n          \"value\": \"null\"\n        }\n      ],\n      \"valueName\"\
    : \"current\"\n    },\n    {\n      \"cacheTimeout\": null,\n      \"colorBackground\"\
    : false,\n      \"colorValue\": true,\n      \"colors\": [\n        \"rgba(245,\
    \ 54, 54, 0.9)\",\n        \"rgba(237, 129, 40, 0.89)\",\n        \"rgba(50, 172,\
    \ 45, 0.97)\"\n      ],\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"\
    decimals\": 2,\n      \"format\": \"percentunit\",\n      \"gauge\": {\n     \
    \   \"maxValue\": 1,\n        \"minValue\": 0,\n        \"show\": true,\n    \
    \    \"thresholdLabels\": false,\n        \"thresholdMarkers\": true\n      },\n\
    \      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 2,\n        \"x\": 4,\n\
    \        \"y\": 0\n      },\n      \"id\": 4,\n      \"interval\": null,\n   \
    \   \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [\n   \
    \     {\n          \"name\": \"value to text\",\n          \"value\": 1\n    \
    \    },\n        {\n          \"name\": \"range to text\",\n          \"value\"\
    : 2\n        }\n      ],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\"\
    : \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"\
    postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\"\
    : \"50%\",\n      \"rangeMaps\": [\n        {\n          \"from\": \"null\",\n\
    \          \"text\": \"N/A\",\n          \"to\": \"null\"\n        }\n      ],\n\
    \      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n\
    \        \"full\": false,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n   \
    \     \"show\": true\n      },\n      \"tableColumn\": \"\",\n      \"targets\"\
    : [\n        {\n          \"expr\": \"sort_desc(min(avg(rate(node_cpu_seconds_total{mode=\\\
    \"idle\\\"}[2m])) by (instance)))\",\n          \"format\": \"time_series\",\n\
    \          \"intervalFactor\": 2,\n          \"legendFormat\": \"\",\n       \
    \   \"refId\": \"A\",\n          \"step\": 40\n        }\n      ],\n      \"thresholds\"\
    : \"0.1,0.2\",\n      \"title\": \"Least CPU Idle\",\n      \"type\": \"singlestat\"\
    ,\n      \"valueFontSize\": \"80%\",\n      \"valueMaps\": [\n        {\n    \
    \      \"op\": \"=\",\n          \"text\": \"N/A\",\n          \"value\": \"null\"\
    \n        }\n      ],\n      \"valueName\": \"min\"\n    },\n    {\n      \"cacheTimeout\"\
    : null,\n      \"colorBackground\": false,\n      \"colorValue\": true,\n    \
    \  \"colors\": [\n        \"rgba(245, 54, 54, 0.9)\",\n        \"rgba(237, 129,\
    \ 40, 0.89)\",\n        \"rgba(50, 172, 45, 0.97)\"\n      ],\n      \"datasource\"\
    : \"${DS_PROMETHEUS}\",\n      \"description\": \"\",\n      \"format\": \"percentunit\"\
    ,\n      \"gauge\": {\n        \"maxValue\": 1,\n        \"minValue\": 0,\n  \
    \      \"show\": true,\n        \"thresholdLabels\": false,\n        \"thresholdMarkers\"\
    : true\n      },\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 2,\n\
    \        \"x\": 6,\n        \"y\": 0\n      },\n      \"id\": 2,\n      \"interval\"\
    : null,\n      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\"\
    : [\n        {\n          \"name\": \"value to text\",\n          \"value\": 1\n\
    \        },\n        {\n          \"name\": \"range to text\",\n          \"value\"\
    : 2\n        }\n      ],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\"\
    : \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"\
    postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\"\
    : \"50%\",\n      \"rangeMaps\": [\n        {\n          \"from\": \"null\",\n\
    \          \"text\": \"N/A\",\n          \"to\": \"null\"\n        }\n      ],\n\
    \      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n\
    \        \"full\": false,\n        \"lineColor\": \"rgb(31, 120, 193)\",\n   \
    \     \"show\": true\n      },\n      \"tableColumn\": \"\",\n      \"targets\"\
    : [\n        {\n          \"expr\": \"min(node_filesystem_avail_bytes{mountpoint!~\\\
    \".*(serviceaccount|proc|sys).*\\\"}/node_filesystem_size_bytes{mountpoint!~\\\
    \".*(serviceaccount|proc|sys).*\\\"})\",\n          \"format\": \"time_series\"\
    ,\n          \"intervalFactor\": 2,\n          \"refId\": \"A\",\n          \"\
    step\": 40\n        }\n      ],\n      \"thresholds\": \"0.075,0.2\",\n      \"\
    title\": \"Min Space\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\"\
    : \"80%\",\n      \"valueMaps\": [\n        {\n          \"op\": \"=\",\n    \
    \      \"text\": \"N/A\",\n          \"value\": \"null\"\n        }\n      ],\n\
    \      \"valueName\": \"avg\"\n    },\n    {\n      \"cacheTimeout\": null,\n\
    \      \"colorBackground\": false,\n      \"colorValue\": true,\n      \"colors\"\
    : [\n        \"rgba(245, 54, 54, 0.9)\",\n        \"rgba(237, 129, 40, 0.89)\"\
    ,\n        \"rgba(50, 172, 45, 0.97)\"\n      ],\n      \"datasource\": \"${DS_PROMETHEUS}\"\
    ,\n      \"format\": \"percentunit\",\n      \"gauge\": {\n        \"maxValue\"\
    : 1,\n        \"minValue\": 0,\n        \"show\": true,\n        \"thresholdLabels\"\
    : false,\n        \"thresholdMarkers\": true\n      },\n      \"gridPos\": {\n\
    \        \"h\": 7,\n        \"w\": 2,\n        \"x\": 8,\n        \"y\": 0\n \
    \     },\n      \"id\": 9,\n      \"interval\": null,\n      \"links\": [],\n\
    \      \"mappingType\": 1,\n      \"mappingTypes\": [\n        {\n          \"\
    name\": \"value to text\",\n          \"value\": 1\n        },\n        {\n  \
    \        \"name\": \"range to text\",\n          \"value\": 2\n        }\n   \
    \   ],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\": \"connected\"\
    ,\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"postfixFontSize\"\
    : \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\": \"50%\",\n    \
    \  \"rangeMaps\": [\n        {\n          \"from\": \"null\",\n          \"text\"\
    : \"N/A\",\n          \"to\": \"null\"\n        }\n      ],\n      \"sparkline\"\
    : {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n        \"full\": false,\n\
    \        \"lineColor\": \"rgb(31, 120, 193)\",\n        \"show\": true\n     \
    \ },\n      \"tableColumn\": \"\",\n      \"targets\": [\n        {\n        \
    \  \"expr\": \"min(node_memory_MemAvailable_bytes/node_memory_MemTotal_bytes)\"\
    ,\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n\
    \          \"legendFormat\": \"\",\n          \"metric\": \"node_memory_MemTotal\"\
    ,\n          \"refId\": \"A\",\n          \"step\": 40\n        }\n      ],\n\
    \      \"thresholds\": \"0.05,0.15\",\n      \"title\": \"Min Mem\",\n      \"\
    type\": \"singlestat\",\n      \"valueFontSize\": \"80%\",\n      \"valueMaps\"\
    : [\n        {\n          \"op\": \"=\",\n          \"text\": \"N/A\",\n     \
    \     \"value\": \"null\"\n        }\n      ],\n      \"valueName\": \"avg\"\n\
    \    },\n    {\n      \"cacheTimeout\": null,\n      \"colorBackground\": false,\n\
    \      \"colorValue\": true,\n      \"colors\": [\n        \"rgba(50, 172, 45,\
    \ 0.97)\",\n        \"rgba(248, 112, 0, 0.89)\",\n        \"rgba(245, 54, 54,\
    \ 0.9)\"\n      ],\n      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"format\"\
    : \"s\",\n      \"gauge\": {\n        \"maxValue\": 10,\n        \"minValue\"\
    : 0,\n        \"show\": true,\n        \"thresholdLabels\": false,\n        \"\
    thresholdMarkers\": true\n      },\n      \"gridPos\": {\n        \"h\": 7,\n\
    \        \"w\": 2,\n        \"x\": 10,\n        \"y\": 0\n      },\n      \"id\"\
    : 15,\n      \"interval\": null,\n      \"links\": [],\n      \"mappingType\"\
    : 1,\n      \"mappingTypes\": [\n        {\n          \"name\": \"value to text\"\
    ,\n          \"value\": 1\n        },\n        {\n          \"name\": \"range\
    \ to text\",\n          \"value\": 2\n        }\n      ],\n      \"maxDataPoints\"\
    : 100,\n      \"nullPointMode\": \"connected\",\n      \"nullText\": null,\n \
    \     \"postfix\": \"\",\n      \"postfixFontSize\": \"50%\",\n      \"prefix\"\
    : \"\",\n      \"prefixFontSize\": \"50%\",\n      \"rangeMaps\": [\n        {\n\
    \          \"from\": \"null\",\n          \"text\": \"N/A\",\n          \"to\"\
    : \"null\"\n        }\n      ],\n      \"sparkline\": {\n        \"fillColor\"\
    : \"rgba(31, 118, 189, 0.18)\",\n        \"full\": false,\n        \"lineColor\"\
    : \"rgb(0, 192, 255)\",\n        \"show\": true\n      },\n      \"tableColumn\"\
    : \"\",\n      \"targets\": [\n        {\n          \"expr\": \"avg(irate(http_request_duration_seconds_count{status=\\\
    \"200\\\", method=\\\"GET\\\"}[10m]))\",\n          \"format\": \"time_series\"\
    ,\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"\",\n     \
    \     \"metric\": \"node_memory_MemTotal\",\n          \"refId\": \"A\",\n   \
    \       \"step\": 40\n        }\n      ],\n      \"thresholds\": \"2,5\",\n  \
    \    \"title\": \"Request Time\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\"\
    : \"80%\",\n      \"valueMaps\": [\n        {\n          \"op\": \"=\",\n    \
    \      \"text\": \"N/A\",\n          \"value\": \"null\"\n        }\n      ],\n\
    \      \"valueName\": \"avg\"\n    },\n    {\n      \"cacheTimeout\": null,\n\
    \      \"colorBackground\": false,\n      \"colorValue\": true,\n      \"colors\"\
    : [\n        \"rgba(50, 172, 45, 0.97)\",\n        \"rgba(248, 112, 0, 0.89)\"\
    ,\n        \"rgba(245, 54, 54, 0.9)\"\n      ],\n      \"datasource\": \"${DS_PROMETHEUS}\"\
    ,\n      \"description\": \"\",\n      \"format\": \"none\",\n      \"gauge\"\
    : {\n        \"maxValue\": 10,\n        \"minValue\": 0,\n        \"show\": false,\n\
    \        \"thresholdLabels\": false,\n        \"thresholdMarkers\": true\n   \
    \   },\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 2,\n        \"\
    x\": 12,\n        \"y\": 0\n      },\n      \"id\": 14,\n      \"interval\": null,\n\
    \      \"links\": [],\n      \"mappingType\": 1,\n      \"mappingTypes\": [\n\
    \        {\n          \"name\": \"value to text\",\n          \"value\": 1\n \
    \       },\n        {\n          \"name\": \"range to text\",\n          \"value\"\
    : 2\n        }\n      ],\n      \"maxDataPoints\": 100,\n      \"nullPointMode\"\
    : \"connected\",\n      \"nullText\": null,\n      \"postfix\": \"\",\n      \"\
    postfixFontSize\": \"50%\",\n      \"prefix\": \"\",\n      \"prefixFontSize\"\
    : \"50%\",\n      \"rangeMaps\": [\n        {\n          \"from\": \"null\",\n\
    \          \"text\": \"N/A\",\n          \"to\": \"null\"\n        }\n      ],\n\
    \      \"sparkline\": {\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\n\
    \        \"full\": true,\n        \"lineColor\": \"rgb(0, 192, 255)\",\n     \
    \   \"show\": true\n      },\n      \"tableColumn\": \"\",\n      \"targets\"\
    : [\n        {\n          \"expr\": \"count(sum by (pod)(delta(kube_pod_container_status_restarts_total[15m])\
    \ > 0))\",\n          \"format\": \"time_series\",\n          \"intervalFactor\"\
    : 2,\n          \"legendFormat\": \"{{pod}}\",\n          \"metric\": \"node_memory_MemTotal\"\
    ,\n          \"refId\": \"A\",\n          \"step\": 40\n        }\n      ],\n\
    \      \"thresholds\": \"1,10\",\n      \"timeFrom\": null,\n      \"title\":\
    \ \"Pod Restarts\",\n      \"type\": \"singlestat\",\n      \"valueFontSize\"\
    : \"120%\",\n      \"valueMaps\": [\n        {\n          \"op\": \"=\",\n   \
    \       \"text\": \"0\",\n          \"value\": \"null\"\n        },\n        {\n\
    \          \"op\": \"=\",\n          \"text\": \"0\",\n          \"value\": \"\
    N/A\"\n        }\n      ],\n      \"valueName\": \"current\"\n    },\n    {\n\
    \      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\": 10,\n\
    \      \"dashes\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\",\n     \
    \ \"fill\": 0,\n      \"gridPos\": {\n        \"h\": 7,\n        \"w\": 4,\n \
    \       \"x\": 14,\n        \"y\": 0\n      },\n      \"height\": \"\",\n    \
    \  \"id\": 16,\n      \"legend\": {\n        \"alignAsTable\": true,\n       \
    \ \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n    \
    \    \"min\": false,\n        \"show\": true,\n        \"total\": false,\n   \
    \     \"values\": false\n      },\n      \"lines\": false,\n      \"linewidth\"\
    : 0,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\"\
    : false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\"\
    : \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n    \
    \  \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n  \
    \      {\n          \"expr\": \"sum by (pod)(delta(kube_pod_container_status_restarts_total[15m])\
    \ > 0)\",\n          \"format\": \"time_series\",\n          \"intervalFactor\"\
    : 2,\n          \"legendFormat\": \"{{pod}}\",\n          \"refId\": \"A\",\n\
    \          \"step\": 10\n        }\n      ],\n      \"thresholds\": [],\n    \
    \  \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Pods Restarted\"\
    ,\n      \"tooltip\": {\n        \"shared\": false,\n        \"sort\": 0,\n  \
    \      \"value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n\
    \      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\": \"time\",\n\
    \        \"name\": null,\n        \"show\": false,\n        \"values\": [\n  \
    \        \"total\"\n        ]\n      },\n      \"yaxes\": [\n        {\n     \
    \     \"format\": \"short\",\n          \"label\": null,\n          \"logBase\"\
    : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\":\
    \ false\n        },\n        {\n          \"format\": \"short\",\n          \"\
    label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n        \
    \  \"min\": null,\n          \"show\": false\n        }\n      ],\n      \"yaxis\"\
    : {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n\
    \    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\"\
    : 10,\n      \"dashes\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\",\n\
    \      \"fill\": 3,\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 6,\n\
    \        \"x\": 18,\n        \"y\": 0\n      },\n      \"id\": 5,\n      \"legend\"\
    : {\n        \"alignAsTable\": true,\n        \"avg\": false,\n        \"current\"\
    : true,\n        \"max\": true,\n        \"min\": true,\n        \"show\": true,\n\
    \        \"total\": false,\n        \"values\": true\n      },\n      \"lines\"\
    : true,\n      \"linewidth\": 2,\n      \"links\": [],\n      \"nullPointMode\"\
    : \"null as zero\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n\
    \      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
    : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
    : false,\n      \"targets\": [\n        {\n          \"expr\": \"sum (kube_pod_status_phase{})\
    \ by (phase)\",\n          \"format\": \"time_series\",\n          \"hide\": false,\n\
    \          \"interval\": \"\",\n          \"intervalFactor\": 2,\n          \"\
    legendFormat\": \"{{ phase }}\",\n          \"metric\": \"kube_pod_status_phase\"\
    ,\n          \"refId\": \"A\",\n          \"step\": 10\n        },\n        {\n\
    \          \"expr\": \"kubelet_running_pod_count{kubernetes_io_role =~ \\\".*node.*\\\
    \"}\",\n          \"format\": \"time_series\",\n          \"intervalFactor\":\
    \ 2,\n          \"legendFormat\": \"{{ instance }}\",\n          \"refId\": \"\
    B\",\n          \"step\": 10\n        }\n      ],\n      \"thresholds\": [],\n\
    \      \"timeFrom\": null,\n      \"timeShift\": null,\n      \"title\": \"Pods\
    \ Running Count\",\n      \"tooltip\": {\n        \"shared\": true,\n        \"\
    sort\": 0,\n        \"value_type\": \"individual\"\n      },\n      \"type\":\
    \ \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n        \"mode\"\
    : \"time\",\n        \"name\": null,\n        \"show\": true,\n        \"values\"\
    : []\n      },\n      \"yaxes\": [\n        {\n          \"format\": \"short\"\
    ,\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": \"0\",\n          \"show\": true\n        },\n        {\n\
    \          \"format\": \"short\",\n          \"label\": null,\n          \"logBase\"\
    : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\":\
    \ true\n        }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n \
    \       \"alignLevel\": null\n      }\n    },\n    {\n      \"aliasColors\": {},\n\
    \      \"bars\": false,\n      \"dashLength\": 10,\n      \"dashes\": false,\n\
    \      \"datasource\": \"${DS_PROMETHEUS}\",\n      \"fill\": 1,\n      \"gridPos\"\
    : {\n        \"h\": 6,\n        \"w\": 6,\n        \"x\": 0,\n        \"y\": 7\n\
    \      },\n      \"id\": 8,\n      \"legend\": {\n        \"avg\": false,\n  \
    \      \"current\": false,\n        \"max\": false,\n        \"min\": false,\n\
    \        \"show\": true,\n        \"total\": false,\n        \"values\": false\n\
    \      },\n      \"lines\": true,\n      \"linewidth\": 1,\n      \"links\": [],\n\
    \      \"nullPointMode\": \"null\",\n      \"percentage\": false,\n      \"pointradius\"\
    : 5,\n      \"points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\"\
    : [],\n      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\"\
    : false,\n      \"targets\": [\n        {\n          \"expr\": \"node_load1\"\
    ,\n          \"format\": \"time_series\",\n          \"intervalFactor\": 2,\n\
    \          \"legendFormat\": \"{{instance}}\",\n          \"metric\": \"node_load1\"\
    ,\n          \"refId\": \"A\",\n          \"step\": 10\n        }\n      ],\n\
    \      \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n\
    \      \"title\": \"Load 1m\",\n      \"tooltip\": {\n        \"shared\": true,\n\
    \        \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n    \
    \  \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n    \
    \    \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n \
    \       \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"\
    format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n\
    \          \"max\": null,\n          \"min\": null,\n          \"show\": true\n\
    \        },\n        {\n          \"format\": \"short\",\n          \"label\"\
    : null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\"\
    : null,\n          \"show\": true\n        }\n      ],\n      \"yaxis\": {\n \
    \       \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n   \
    \ {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\"\
    : 10,\n      \"dashes\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\",\n\
    \      \"fill\": 1,\n      \"gridPos\": {\n        \"h\": 6,\n        \"w\": 6,\n\
    \        \"x\": 6,\n        \"y\": 7\n      },\n      \"id\": 7,\n      \"legend\"\
    : {\n        \"alignAsTable\": true,\n        \"avg\": false,\n        \"current\"\
    : true,\n        \"max\": false,\n        \"min\": false,\n        \"show\": true,\n\
    \        \"total\": false,\n        \"values\": true\n      },\n      \"lines\"\
    : true,\n      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\"\
    : \"null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"\
    points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n\
    \      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n\
    \      \"targets\": [\n        {\n          \"expr\": \"node_memory_MemFree_bytes\
    \ + node_memory_Buffers_bytes + node_memory_Cached_bytes\",\n          \"format\"\
    : \"time_series\",\n          \"intervalFactor\": 2,\n          \"legendFormat\"\
    : \"{{instance}}\",\n          \"metric\": \"node_memory_MemAvailable\",\n   \
    \       \"refId\": \"A\",\n          \"step\": 10\n        }\n      ],\n     \
    \ \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n\
    \      \"title\": \"Memory\",\n      \"tooltip\": {\n        \"shared\": true,\n\
    \        \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n    \
    \  \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n    \
    \    \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n \
    \       \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"\
    format\": \"bytes\",\n          \"label\": null,\n          \"logBase\": 1,\n\
    \          \"max\": null,\n          \"min\": \"0\",\n          \"show\": true\n\
    \        },\n        {\n          \"format\": \"short\",\n          \"label\"\
    : null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\"\
    : null,\n          \"show\": true\n        }\n      ],\n      \"yaxis\": {\n \
    \       \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n   \
    \ {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\"\
    : 10,\n      \"dashes\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\",\n\
    \      \"fill\": 0,\n      \"gridPos\": {\n        \"h\": 6,\n        \"w\": 6,\n\
    \        \"x\": 12,\n        \"y\": 7\n      },\n      \"height\": \"230px\",\n\
    \      \"id\": 3,\n      \"legend\": {\n        \"avg\": false,\n        \"current\"\
    : false,\n        \"max\": false,\n        \"min\": false,\n        \"show\":\
    \ true,\n        \"total\": false,\n        \"values\": false\n      },\n    \
    \  \"lines\": true,\n      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\"\
    : \"null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"\
    points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n\
    \      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n\
    \      \"targets\": [\n        {\n          \"expr\": \"avg(rate(node_cpu_seconds_total{mode=\\\
    \"idle\\\"}[2m])) by (instance)\",\n          \"format\": \"time_series\",\n \
    \         \"interval\": \"\",\n          \"intervalFactor\": 2,\n          \"\
    legendFormat\": \"{{ instance }}\",\n          \"refId\": \"A\",\n          \"\
    step\": 10\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\"\
    : null,\n      \"timeShift\": null,\n      \"title\": \"CPU Idle Avg\",\n    \
    \  \"tooltip\": {\n        \"shared\": true,\n        \"sort\": 0,\n        \"\
    value_type\": \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\"\
    : {\n        \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\"\
    : null,\n        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\"\
    : [\n        {\n          \"format\": \"percentunit\",\n          \"label\": \"\
    \",\n          \"logBase\": 1,\n          \"max\": \"1\",\n          \"min\":\
    \ \"0\",\n          \"show\": true\n        },\n        {\n          \"format\"\
    : \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n        \
    \  \"max\": null,\n          \"min\": null,\n          \"show\": true\n      \
    \  }\n      ],\n      \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\"\
    : null\n      }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n\
    \      \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"\
    ${DS_PROMETHEUS}\",\n      \"fill\": 0,\n      \"gridPos\": {\n        \"h\":\
    \ 6,\n        \"w\": 4,\n        \"x\": 18,\n        \"y\": 8\n      },\n    \
    \  \"height\": \"\",\n      \"id\": 1,\n      \"legend\": {\n        \"alignAsTable\"\
    : true,\n        \"avg\": false,\n        \"current\": false,\n        \"max\"\
    : false,\n        \"min\": true,\n        \"show\": true,\n        \"total\":\
    \ false,\n        \"values\": true\n      },\n      \"lines\": true,\n      \"\
    linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n  \
    \    \"percentage\": false,\n      \"pointradius\": 5,\n      \"points\": false,\n\
    \      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\"\
    : 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\"\
    : [\n        {\n          \"expr\": \"min(node_filesystem_avail_bytes{mountpoint!~\\\
    \".*(serviceaccount|proc|sys).*\\\", device!=\\\"overlay\\\"}/node_filesystem_size_bytes{mountpoint!~\\\
    \".*(serviceaccount|proc|sys).*\\\", device!=\\\"overlay\\\"}) by (device, instance)\"\
    ,\n          \"format\": \"time_series\",\n          \"interval\": \"\",\n   \
    \       \"intervalFactor\": 2,\n          \"legendFormat\": \"{{instance}}\",\n\
    \          \"refId\": \"A\",\n          \"step\": 10\n        }\n      ],\n  \
    \    \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n\
    \      \"title\": \"Node Storage\",\n      \"tooltip\": {\n        \"shared\"\
    : true,\n        \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n\
    \      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n\
    \        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n\
    \        \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"\
    format\": \"percentunit\",\n          \"label\": \"\",\n          \"logBase\"\
    : 1,\n          \"max\": \"1\",\n          \"min\": \"0\",\n          \"show\"\
    : true\n        },\n        {\n          \"format\": \"short\",\n          \"\
    label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n        \
    \  \"min\": null,\n          \"show\": true\n        }\n      ],\n      \"yaxis\"\
    : {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n\
    \    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\"\
    : 10,\n      \"dashes\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\",\n\
    \      \"fill\": 1,\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 6,\n\
    \        \"x\": 0,\n        \"y\": 13\n      },\n      \"id\": 17,\n      \"legend\"\
    : {\n        \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n\
    \        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n\
    \        \"values\": false\n      },\n      \"lines\": true,\n      \"linewidth\"\
    : 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\"\
    : false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\"\
    : \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n    \
    \  \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n  \
    \      {\n          \"expr\": \"rate(node_disk_io_time_seconds_total[2m])\",\n\
    \          \"format\": \"time_series\",\n          \"hide\": false,\n        \
    \  \"interval\": \"\",\n          \"intervalFactor\": 2,\n          \"legendFormat\"\
    : \"{{instance}} {{device}}\",\n          \"refId\": \"A\",\n          \"step\"\
    : 10\n        }\n      ],\n      \"thresholds\": [],\n      \"timeFrom\": null,\n\
    \      \"timeShift\": null,\n      \"title\": \"Disk IO s\",\n      \"tooltip\"\
    : {\n        \"shared\": true,\n        \"sort\": 0,\n        \"value_type\":\
    \ \"individual\"\n      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n \
    \       \"buckets\": null,\n        \"mode\": \"time\",\n        \"name\": null,\n\
    \        \"show\": true,\n        \"values\": []\n      },\n      \"yaxes\": [\n\
    \        {\n          \"format\": \"short\",\n          \"label\": null,\n   \
    \       \"logBase\": 1,\n          \"max\": null,\n          \"min\": null,\n\
    \          \"show\": true\n        },\n        {\n          \"format\": \"short\"\
    ,\n          \"label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n\
    \          \"min\": null,\n          \"show\": true\n        }\n      ],\n   \
    \   \"yaxis\": {\n        \"align\": false,\n        \"alignLevel\": null\n  \
    \    }\n    },\n    {\n      \"aliasColors\": {},\n      \"bars\": false,\n  \
    \    \"dashLength\": 10,\n      \"dashes\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\"\
    ,\n      \"fill\": 1,\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\"\
    : 6,\n        \"x\": 6,\n        \"y\": 13\n      },\n      \"height\": \"300px\"\
    ,\n      \"id\": 10,\n      \"legend\": {\n        \"alignAsTable\": true,\n \
    \       \"avg\": false,\n        \"current\": true,\n        \"max\": false,\n\
    \        \"min\": false,\n        \"show\": true,\n        \"total\": false,\n\
    \        \"values\": true\n      },\n      \"lines\": true,\n      \"linewidth\"\
    : 1,\n      \"links\": [],\n      \"nullPointMode\": \"null\",\n      \"percentage\"\
    : false,\n      \"pointradius\": 5,\n      \"points\": false,\n      \"renderer\"\
    : \"flot\",\n      \"seriesOverrides\": [],\n      \"spaceLength\": 10,\n    \
    \  \"stack\": false,\n      \"steppedLine\": false,\n      \"targets\": [\n  \
    \      {\n          \"expr\": \"topk(5,sum(container_memory_usage_bytes{image!=\\\
    \"\\\"}) by (pod_name))\",\n          \"format\": \"time_series\",\n         \
    \ \"intervalFactor\": 2,\n          \"legendFormat\": \"{{pod_name}}\",\n    \
    \      \"refId\": \"A\",\n          \"step\": 10\n        }\n      ],\n      \"\
    thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n   \
    \   \"title\": \"Top 5 Memory Intense Pods\",\n      \"tooltip\": {\n        \"\
    shared\": true,\n        \"sort\": 0,\n        \"value_type\": \"individual\"\n\
    \      },\n      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\"\
    : null,\n        \"mode\": \"time\",\n        \"name\": null,\n        \"show\"\
    : true,\n        \"values\": []\n      },\n      \"yaxes\": [\n        {\n   \
    \       \"format\": \"bytes\",\n          \"label\": null,\n          \"logBase\"\
    : 1,\n          \"max\": null,\n          \"min\": null,\n          \"show\":\
    \ true\n        },\n        {\n          \"format\": \"short\",\n          \"\
    label\": null,\n          \"logBase\": 1,\n          \"max\": null,\n        \
    \  \"min\": null,\n          \"show\": true\n        }\n      ],\n      \"yaxis\"\
    : {\n        \"align\": false,\n        \"alignLevel\": null\n      }\n    },\n\
    \    {\n      \"aliasColors\": {},\n      \"bars\": false,\n      \"dashLength\"\
    : 10,\n      \"dashes\": false,\n      \"datasource\": \"${DS_PROMETHEUS}\",\n\
    \      \"fill\": 0,\n      \"gridPos\": {\n        \"h\": 6,\n        \"w\": 12,\n\
    \        \"x\": 12,\n        \"y\": 14\n      },\n      \"height\": \"230px\"\
    ,\n      \"id\": 6,\n      \"legend\": {\n        \"alignAsTable\": true,\n  \
    \      \"avg\": false,\n        \"current\": false,\n        \"max\": false,\n\
    \        \"min\": false,\n        \"rightSide\": true,\n        \"show\": true,\n\
    \        \"total\": false,\n        \"values\": false\n      },\n      \"lines\"\
    : true,\n      \"linewidth\": 1,\n      \"links\": [],\n      \"nullPointMode\"\
    : \"null\",\n      \"percentage\": false,\n      \"pointradius\": 5,\n      \"\
    points\": false,\n      \"renderer\": \"flot\",\n      \"seriesOverrides\": [],\n\
    \      \"spaceLength\": 10,\n      \"stack\": false,\n      \"steppedLine\": false,\n\
    \      \"targets\": [\n        {\n          \"expr\": \"topk(5, sum(rate(container_cpu_usage_seconds_total{image!=\\\
    \"\\\",name=~\\\"^k8s_.*\\\",container_name!=\\\"POD\\\"}[2m])) by (pod_name,\
    \ container_name))\",\n          \"format\": \"time_series\",\n          \"interval\"\
    : \"\",\n          \"intervalFactor\": 2,\n          \"legendFormat\": \"{{ container_name\
    \ }} in {{ pod_name }}\",\n          \"metric\": \"container_cpu_usage_seconds_total\"\
    ,\n          \"refId\": \"A\",\n          \"step\": 4\n        }\n      ],\n \
    \     \"thresholds\": [],\n      \"timeFrom\": null,\n      \"timeShift\": null,\n\
    \      \"title\": \"TOP CPU Containers\",\n      \"tooltip\": {\n        \"shared\"\
    : true,\n        \"sort\": 0,\n        \"value_type\": \"individual\"\n      },\n\
    \      \"type\": \"graph\",\n      \"xaxis\": {\n        \"buckets\": null,\n\
    \        \"mode\": \"time\",\n        \"name\": null,\n        \"show\": true,\n\
    \        \"values\": []\n      },\n      \"yaxes\": [\n        {\n          \"\
    format\": \"short\",\n          \"label\": null,\n          \"logBase\": 1,\n\
    \          \"max\": null,\n          \"min\": null,\n          \"show\": true\n\
    \        },\n        {\n          \"format\": \"short\",\n          \"label\"\
    : null,\n          \"logBase\": 1,\n          \"max\": null,\n          \"min\"\
    : null,\n          \"show\": true\n        }\n      ],\n      \"yaxis\": {\n \
    \       \"align\": false,\n        \"alignLevel\": null\n      }\n    }\n  ],\n\
    \  \"refresh\": \"30s\",\n  \"schemaVersion\": 16,\n  \"style\": \"dark\",\n \
    \ \"tags\": [],\n  \"templating\": {\n    \"list\": []\n  },\n  \"time\": {\n\
    \    \"from\": \"now-30m\",\n    \"to\": \"now\"\n  },\n  \"timepicker\": {\n\
    \    \"refresh_intervals\": [\n      \"5s\",\n      \"10s\",\n      \"30s\",\n\
    \      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\",\n\
    \      \"2h\",\n      \"1d\"\n    ],\n    \"time_options\": [\n      \"5m\",\n\
    \      \"15m\",\n      \"1h\",\n      \"6h\",\n      \"12h\",\n      \"24h\",\n\
    \      \"2d\",\n      \"7d\",\n      \"30d\"\n    ]\n  },\n  \"timezone\": \"\"\
    ,\n  \"title\": \"Kubernetes Cluster\",\n  \"uid\": \"os6Bh8Omk\",\n  \"version\"\
    : 25,\n  \"gnetId\": 7249,\n  \"description\": \"Cluster level overview of workloads\
    \ deployed, based on prometheus metrics exposed by kubelet, node-exporter, nginx\
    \ ingress controller\"\n}"
