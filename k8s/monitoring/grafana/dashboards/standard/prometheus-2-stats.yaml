apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboard-prometheus-2-stats
  namespace: monitoring
  labels:
    grafana_dashboard: '1'
data:
  prometheus-2-stats.json: '{"__inputs":[{"name":"DS_PROMETHEUS","label":"Prometheus","description":"A
    prometheus server with prometheus server metrics","type":"datasource","pluginId":"prometheus","pluginName":"Prometheus"}],"__requires":[{"type":"grafana","id":"grafana","name":"Grafana","version":"4.5.0-beta1"},{"type":"panel","id":"graph","name":"Graph","version":""},{"type":"datasource","id":"prometheus","name":"Prometheus","version":"1.0.0"},{"type":"panel","id":"singlestat","name":"Singlestat","version":""},{"type":"panel","id":"table","name":"Table","version":""}],"annotations":{"list":[]},"editable":true,"gnetId":null,"graphTooltip":0,"hideControls":false,"id":null,"links":[],"refresh":"30s","rows":[{"collapse":false,"height":"250px","panels":[{"id":1,"title":"Uptime","type":"singlestat","span":3,"targets":[{"expr":"(time()
    - process_start_time_seconds{job=\"prometheus\"})","refId":"A"}],"format":"s","valueName":"current","colors":["rgba(245,
    54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"]},{"id":2,"title":"Time
    Series","type":"singlestat","span":3,"targets":[{"expr":"prometheus_tsdb_head_series","refId":"A"}],"format":"short","valueName":"current","colors":["rgba(50,
    172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"]},{"id":3,"title":"Samples/sec","type":"singlestat","span":3,"targets":[{"expr":"rate(prometheus_tsdb_head_samples_appended_total[5m])","refId":"A"}],"format":"short","valueName":"current","colors":["rgba(50,
    172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"]},{"id":4,"title":"Config
    Reload","type":"singlestat","span":3,"targets":[{"expr":"prometheus_config_last_reload_successful","refId":"A"}],"format":"none","valueName":"current","valueMaps":[{"op":"=","text":"Failed","value":"0"},{"op":"=","text":"Success","value":"1"}],"colors":["rgba(245,
    54, 54, 0.9)","rgba(50, 172, 45, 0.97)"]}],"title":"Overview"},{"collapse":false,"height":"250px","panels":[{"id":5,"title":"Samples
    Ingested","type":"graph","span":6,"targets":[{"expr":"rate(prometheus_tsdb_head_samples_appended_total[5m])","legendFormat":"Samples/sec","refId":"A"}],"yaxes":[{"format":"short","label":null},{"format":"short"}]},{"id":6,"title":"HTTP
    Requests","type":"graph","span":6,"targets":[{"expr":"rate(prometheus_http_requests_total[5m])","legendFormat":"{{handler}}
    ({{code}})","refId":"A"}],"yaxes":[{"format":"reqps"},{"format":"short"}]}],"title":"Metrics"},{"collapse":false,"height":"250px","panels":[{"id":7,"title":"Memory
    Usage","type":"graph","span":6,"targets":[{"expr":"process_resident_memory_bytes","legendFormat":"Resident
    Memory","refId":"A"},{"expr":"go_memstats_heap_alloc_bytes","legendFormat":"Heap
    Allocated","refId":"B"}],"yaxes":[{"format":"bytes"},{"format":"short"}]},{"id":8,"title":"Go
    Goroutines","type":"graph","span":6,"targets":[{"expr":"go_goroutines","legendFormat":"Goroutines","refId":"A"}],"yaxes":[{"format":"short"},{"format":"short"}]}],"title":"System"}],"schemaVersion":16,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6h","to":"now"},"timepicker":{},"timezone":"browser","title":"Prometheus
    2.0 Overview","version":1}'
