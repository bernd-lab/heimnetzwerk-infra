# Secrets Inventory - Single Source of Truth
# WICHTIG: Keine tatsächlichen Secret-Werte in dieser Datei!
# Diese Datei dient nur der Dokumentation und Metadaten

secrets:
  # GitHub Secrets
  github:
    - name: GITHUB_TOKEN
      description: Personal Access Token für GitHub API-Zugriff
      type: personal_access_token
      scope: ["repo", "workflow", "admin:org"]
      owner: bernd-lab
      rotation_days: 90
      systems: ["github", "gitlab_ci"]
      location: ~/.cursor/secrets/system-key/GITHUB_TOKEN.age
      encryption: system-key
      created: null
      last_rotated: null
      status: pending

    - name: GITLAB_TOKEN
      description: Personal Access Token für GitLab-Sync
      type: personal_access_token
      scope: ["api", "write_repository"]
      owner: bernd-lab
      rotation_days: 90
      systems: ["github_actions"]
      location: ~/.cursor/secrets/system-key/GITLAB_TOKEN.age
      encryption: system-key
      created: null
      last_rotated: null
      status: pending

  # GitLab Secrets
  gitlab:
    - name: GITLAB_TOKEN
      description: Personal Access Token für GitLab API-Zugriff
      type: personal_access_token
      scope: ["api", "read_repository", "write_repository"]
      owner: bernd-lab
      rotation_days: 90
      systems: ["gitlab", "github_actions"]
      location: ~/.cursor/secrets/system-key/GITLAB_TOKEN.age
      encryption: system-key
      created: null
      last_rotated: null
      status: pending

    - name: GITHUB_TOKEN
      description: Personal Access Token für GitHub-Sync
      type: personal_access_token
      scope: ["repo", "workflow"]
      owner: bernd-lab
      rotation_days: 90
      systems: ["gitlab_ci"]
      location: ~/.cursor/secrets/system-key/GITHUB_TOKEN.age
      encryption: system-key
      created: null
      last_rotated: null
      status: pending

  # Kubernetes Secrets
  kubernetes:
    - name: cloudflare-api-token
      namespace: cert-manager
      description: Cloudflare API Token für Cert-Manager DNS01-Challenge
      type: api_token
      owner: bernd-lab
      rotation_days: 365
      systems: ["kubernetes", "cert-manager"]
      created: null
      last_rotated: null
      status: active

  # Cloudflare
  cloudflare:
    - name: CLOUDFLARE_API_TOKEN
      description: Cloudflare API Token für DNS-Management
      type: api_token
      scope: ["Zone:Edit", "DNS:Edit"]
      owner: bernd-lab
      rotation_days: 365
      systems: ["github_actions", "cert-manager"]
      location: ~/.cursor/secrets/system-key/CLOUDFLARE_API_TOKEN.age
      encryption: system-key
      created: null
      last_rotated: null
      status: active

  # United Domains (optional)
  united_domains:
    - name: UNITED_DOMAINS_API_KEY
      description: United Domains API Key für Domain-Management
      type: api_key
      owner: bernd-lab
      rotation_days: 365
      systems: ["github_actions"]
      created: null
      last_rotated: null
      status: pending

  # Fritzbox (optional, verschlüsselt)
  fritzbox:
    - name: FRITZBOX_ADMIN_PASSWORD
      description: Fritzbox Admin-Passwort (verschlüsselt gespeichert)
      type: password
      owner: bernd-lab
      rotation_days: 180
      systems: ["local"]
      location: ~/.cursor/secrets/password/FRITZBOX_ADMIN_PASSWORD.age
      encryption: password
      created: null
      last_rotated: null
      status: pending

  # Debian Server Secrets
  debian_server:
    - name: DEBIAN_SERVER_SSH_KEY
      description: SSH Private Key für Debian-Server (192.168.178.54) - infra_ed25519
      type: ssh_key
      owner: bernd-lab
      rotation_days: 365
      systems: ["local", "agents"]
      location: ~/.cursor/secrets/system-key/DEBIAN_SERVER_SSH_KEY.age
      encryption: system-key
      source_location: ~/.ssh/infra_ed25519
      created: "2025-11-05"
      last_rotated: null
      status: active

  # Kubernetes Access
  kubernetes_config:
    - name: KUBECONFIG_ACCESS
      description: Kubernetes Config-Zugriff (kubectl config files)
      type: config_file
      owner: bernd-lab
      rotation_days: 365
      systems: ["local", "agents"]
      location: ~/.kube/config oder ~/.kube/config-new-cluster.yaml
      encryption: none
      note: "Kubernetes Configs werden nicht verschlüsselt gespeichert (Standard-Location), enthalten aber Zertifikate"
      status: documented

    - name: GITLAB_ROOT_PASSWORD
      description: GitLab Root-Passwort
      type: password
      owner: bernd-lab
      rotation_days: 180
      systems: ["local", "agents"]
      location: ~/.cursor/secrets/system-key/GITLAB_ROOT_PASSWORD.age
      encryption: system-key
      created: null
      last_rotated: null
      status: pending

    - name: ROOT_PASSWORDS
      description: Root-Passwörter für Server
      type: password
      owner: bernd-lab
      rotation_days: 180
      systems: ["local"]
      location: ~/.cursor/secrets/password/ROOT_PASSWORDS.age
      encryption: password
      created: null
      last_rotated: null
      status: pending

metadata:
  version: "1.1"
  last_updated: "2025-11-05"
  total_secrets: 11
  active_secrets: 1
  pending_secrets: 10
  rotation_schedule: "monthly"
  audit_enabled: true
  secret_store:
    location: ~/.cursor/secrets/
    encryption: age
    system_key_location: ~/.cursor/secrets/system-key.txt
    system_key_secrets: ~/.cursor/secrets/system-key/
    password_secrets: ~/.cursor/secrets/password/
  documentation:
    agent_guide: secrets-management-agent-guide.md
    user_guide: secrets-management-user-guide.md
    context: .cursor/context/secrets-context.md

